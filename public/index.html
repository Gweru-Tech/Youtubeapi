<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ntando-Mods-Pro API Documentation</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333; 
            line-height: 1.6; 
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 2rem; 
            background: white; 
            margin-top: 2rem; 
            border-radius: 10px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
        }
        h1 { 
            color: #2c3e50; 
            margin-bottom: 1rem; 
            text-align: center; 
            font-size: 2.5rem; 
        }
        .subtitle { 
            text-align: center; 
            color: #7f8c8d; 
            margin-bottom: 2rem; 
            font-size: 1.2rem; 
        }
        .endpoint { 
            background: #f8f9fa; 
            padding: 1.5rem; 
            margin: 1rem 0; 
            border-radius: 8px; 
            border-left: 4px solid #3498db; 
        }
        .method { 
            display: inline-block; 
            padding: 0.3rem 0.8rem; 
            border-radius: 4px; 
            color: white; 
            font-weight: bold; 
            margin-right: 1rem; 
        }
        .get { background: #27ae60; }
        .post { background: #e74c3c; }
        code { 
            background: #2c3e50; 
            color: #ecf0f1; 
            padding: 0.2rem 0.5rem; 
            border-radius: 4px; 
            font-family: 'Courier New', monospace; 
        }
        .social { 
            text-align: center; 
            margin-top: 2rem; 
            padding-top: 2rem; 
            border-top: 1px solid #ecf0f1; 
        }
        .social a { 
            color: #3498db; 
            text-decoration: none; 
            margin: 0 1rem; 
            font-weight: bold; 
        }
        .social a:hover { color: #2980b9; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 Ntando-Mods-Pro API</h1>
        <p class="subtitle">Professional YouTube API Service by Mr Ntando - Elite Pro Tech</p>
        
        <div class="endpoint">
            <span class="method get">GET</span>
            <strong>/api/search</strong>
            <p>Search YouTube videos</p>
            <p><strong>Parameters:</strong> <code>q</code> (required), <code>limit</code> (optional)</p>
            <p><strong>Example:</strong> <code>/api/search?q=alan walker&limit=10</code></p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <strong>/api/info/:videoId</strong>
            <p>Get detailed video information</p>
            <p><strong>Example:</strong> <code>/api/info/dQw4w9WgXcQ</code></p>
        </div>

        <div class="endpoint">
            <span class="method post">POST</span>
            <strong>/api/download</strong>
            <p>Get download links for YouTube videos</p>
            <p><strong>Body:</strong> <code>{"url": "youtube_url", "format": "mp3|mp4|best"}</code></p>
            <p><strong>Example:</strong> <code>POST /api/download</code> with body <code>{"url": "https://youtube.com/watch?v=dQw4w9WgXcQ", "format": "mp3"}</code></p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <strong>/api/download/stream/:videoId</strong>
            <p>Stream download video directly</p>
            <p><strong>Parameters:</strong> <code>format</code> (mp3|mp4), <code>quality</code> (highest|lowest)</p>
            <p><strong>Example:</strong> <code>/api/download/stream/dQw4w9WgXcQ?format=mp3&quality=highest</code></p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <strong>/api/search/suggestions</strong>
            <p>Get YouTube search suggestions</p>
            <p><strong>Parameters:</strong> <code>q</code> (required)</p>
            <p><strong>Example:</strong> <code>/api/search/suggestions?q=alan</code></p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <strong>/api/info/:videoId/formats</strong>
            <p>Get available video formats only</p>
            <p><strong>Parameters:</strong> <code>type</code> (all|audio|video)</p>
            <p><strong>Example:</strong> <code>/api/info/dQw4w9WgXcQ/formats?type=audio</code></p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <strong>/api/health</strong>
            <p>Check API health status</p>
            <p><strong>Returns:</strong> API status, version, and uptime information</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <strong>/api</strong>
            <p>Get complete API documentation in JSON format</p>
            <p><strong>Returns:</strong> All available endpoints and their descriptions</p>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">📋 Response Format</h2>
        <div class="endpoint">
            <h3>Success Response</h3>
            <pre><code>{
  "success": true,
  "message": "Operation completed successfully",
  "data": { ... },
  "timestamp": "2024-01-01T00:00:00.000Z",
  "api": "Ntando-Mods-Pro v1.0"
}</code></pre>
        </div>

        <div class="endpoint">
            <h3>Error Response</h3>
            <pre><code>{
  "success": false,
  "error": "Error type",
  "message": "Detailed error message",
  "details": "Additional error information (dev mode only)",
  "timestamp": "2024-01-01T00:00:00.000Z"
}</code></pre>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">🔧 Usage Examples</h2>
        
        <div class="endpoint">
            <h3>JavaScript (Fetch API)</h3>
            <pre><code>// Search for videos
const searchVideos = async (query) => {
  const response = await fetch(`/api/search?q=${encodeURIComponent(query)}&limit=20`);
  const data = await response.json();
  return data;
};

// Get video info
const getVideoInfo = async (videoId) => {
  const response = await fetch(`/api/info/${videoId}`);
  const data = await response.json();
  return data;
};

// Get download links
const getDownloadLinks = async (url, format = 'mp4') => {
  const response = await fetch('/api/download', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ url, format })
  });
  const data = await response.json();
  return data;
};</code></pre>
        </div>

        <div class="endpoint">
            <h3>Python (Requests)</h3>
            <pre><code>import requests

# Search for videos
def search_videos(query, limit=20):
    response = requests.get(f'/api/search?q={query}&limit={limit}')
    return response.json()

# Get video info
def get_video_info(video_id):
    response = requests.get(f'/api/info/{video_id}')
    return response.json()

# Get download links
def get_download_links(url, format='mp4'):
    response = requests.post('/api/download', json={
        'url': url,
        'format': format
    })
    return response.json()</code></pre>
        </div>

        <div class="endpoint">
            <h3>cURL Examples</h3>
            <pre><code># Search videos
curl "https://your-api-domain.com/api/search?q=alan%20walker&limit=10"

# Get video info
curl "https://your-api-domain.com/api/info/dQw4w9WgXcQ"

# Get download links
curl -X POST "https://your-api-domain.com/api/download" \
  -H "Content-Type: application/json" \
  -d '{"url": "https://youtube.com/watch?v=dQw4w9WgXcQ", "format": "mp3"}'

# Stream download
curl "https://your-api-domain.com/api/download/stream/dQw4w9WgXcQ?format=mp3" \
  -o "downloaded_audio.mp3"</code></pre>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">⚡ Rate Limiting</h2>
        <div class="endpoint">
            <p><strong>Rate Limit:</strong> 100 requests per 15 minutes per IP address</p>
            <p><strong>Headers:</strong> Check <code>X-RateLimit-Limit</code>, <code>X-RateLimit-Remaining</code>, and <code>X-RateLimit-Reset</code> response headers</p>
            <p><strong>Exceeded:</strong> Returns HTTP 429 with retry information</p>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">🔒 Security Features</h2>
        <div class="endpoint">
            <ul style="margin-left: 2rem;">
                <li><strong>CORS Protection:</strong> Configured for specific domains</li>
                <li><strong>Rate Limiting:</strong> Prevents API abuse</li>
                <li><strong>Input Validation:</strong> All inputs are validated and sanitized</li>
                <li><strong>Error Handling:</strong> Secure error messages without sensitive data</li>
                <li><strong>Helmet.js:</strong> Security headers for protection</li>
            </ul>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">📊 Supported Formats</h2>
        <div class="endpoint">
            <h3>Audio Formats</h3>
            <ul style="margin-left: 2rem;">
                <li>MP3 (128kbps, 192kbps, 320kbps)</li>
                <li>AAC (Various bitrates)</li>
                <li>OPUS (High quality)</li>
            </ul>
            
            <h3>Video Formats</h3>
            <ul style="margin-left: 2rem;">
                <li>MP4 (360p, 480p, 720p, 1080p, 1440p, 2160p/4K)</li>
                <li>WEBM (Various qualities)</li>
                <li>3GP (Mobile compatible)</li>
            </ul>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">🚀 Deployment Options</h2>
        <div class="endpoint">
            <h3>Vercel (Recommended)</h3>
            <pre><code># Install Vercel CLI
npm i -g vercel

# Deploy
vercel --prod

# Or use the vercel.json configuration included</code></pre>
            
            <h3>Railway</h3>
            <pre><code># Connect your GitHub repo to Railway
# Set environment variables
# Deploy automatically on push</code></pre>
            
            <h3>Heroku</h3>
            <pre><code># Create Procfile
echo "web: node server.js" > Procfile

# Deploy to Heroku
heroku create ntando-mods-pro-api
git push heroku main</code></pre>
            
            <h3>Netlify Functions</h3>
            <pre><code># Move API routes to netlify/functions/
# Update imports and exports for serverless
# Deploy via Netlify CLI or GitHub integration</code></pre>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">🔧 Environment Variables</h2>
        <div class="endpoint">
            <pre><code>NODE_ENV=production
PORT=3000
CORS_ORIGIN=https://your-frontend-domain.com
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
API_KEY=your_optional_api_key</code></pre>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">📈 Performance Tips</h2>
        <div class="endpoint">
            <ul style="margin-left: 2rem;">
                <li><strong>Caching:</strong> Implement Redis for frequently requested videos</li>
                <li><strong>CDN:</strong> Use a CDN for static assets and API responses</li>
                <li><strong>Compression:</strong> Enable gzip compression for responses</li>
                <li><strong>Database:</strong> Store popular videos metadata for faster access</li>
                <li><strong>Queue System:</strong> Use Bull Queue for download processing</li>
            </ul>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">🐛 Error Codes</h2>
        <div class="endpoint">
            <ul style="margin-left: 2rem;">
                <li><strong>400:</strong> Bad Request - Invalid parameters</li>
                <li><strong>403:</strong> Forbidden - Age-restricted or private video</li>
                <li><strong>404:</strong> Not Found - Video not found</li>
                <li><strong>429:</strong> Too Many Requests - Rate limit exceeded</li>
                <li><strong>500:</strong> Internal Server Error - Server issue</li>
            </ul>
        </div>

        <h2 style="margin-top: 2rem; color: #2c3e50;">📞 Support & Contact</h2>
        <div class="endpoint">
            <p>For technical support, feature requests, or bug reports:</p>
            <ul style="margin-left: 2rem;">
                <li><strong>Email:</strong> support@eliteprotech.com</li>
                <li><strong>GitHub Issues:</strong> Create an issue on our repository</li>
                <li><strong>Telegram:</strong> Join our developer community</li>
                <li><strong>Documentation:</strong> Check our wiki for detailed guides</li>
            </ul>
        </div>

        <div class="social">
            <h3 style="color: #2c3e50; margin-bottom: 1rem;">Connect with Mr Ntando - Elite Pro Tech</h3>
            <a href="https://www.facebook.com/people/Elite-Pro/61567898664873/" target="_blank">📘 Facebook</a>
            <a href="https://whatsapp.com/channel/0029VaXaqHII1rcmdDBBsd3g" target="_blank">📱 WhatsApp</a>
            <a href="https://youtube.com/@eliteprotechs" target="_blank">🎥 YouTube</a>
            <a href="https://t.me/elitepro_md/" target="_blank">✈️ Telegram</a>
            <a href="https://github.com/eliteprotech" target="_blank">💻 GitHub</a>
        </div>

        <div style="text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #ecf0f1; color: #7f8c8d;">
            <p>© 2024 Mr Ntando - Elite Pro Tech. All rights reserved.</p>
            <p>Ntando-Mods-Pro API v1.0 - Professional YouTube API Service</p>
            <p style="margin-top: 1rem; font-size: 0.9rem;">
                <strong>Legal Notice:</strong> This API is for educational purposes. Users are responsible for complying with YouTube's Terms of Service and applicable laws.
            </p>
        </div>
    </div>

    <script>
        // Add syntax highlighting and interactive features
        document.addEventListener('DOMContentLoaded', function() {
            // Add copy buttons to code blocks
            const codeBlocks = document.querySelectorAll('pre code');
            codeBlocks.forEach(block => {
                const button = document.createElement('button');
                button.textContent = 'Copy';
                button.style.cssText = `
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    background: #3498db;
                    color: white;
                    border: none;
                    padding: 5px 10px;
                    border-radius: 4px;
                    cursor: pointer;
                    font-size: 12px;
                `;
                
                const container = block.parentElement;
                container.style.position = 'relative';
                container.appendChild(button);
                
                button.addEventListener('click', () => {
                    navigator.clipboard.writeText(block.textContent).then(() => {
                        button.textContent = 'Copied!';
                        setTimeout(() => {
                            button.textContent = 'Copy';
                        }, 2000);
                    });
                });
            });

            // Add smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Add API status checker
            const statusDiv = document.createElement('div');
            statusDiv.innerHTML = `
                <div style="position: fixed; top: 20px; right: 20px; background: #2c3e50; color: white; padding: 10px; border-radius: 5px; font-size: 12px;">
                    <div id="api-status">Checking API status...</div>
                </div>
            `;
            document.body.appendChild(statusDiv);

            // Check API health
            fetch('/api/health')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('api-status').innerHTML = `
                        <div style="color: #27ae60;">✅ API Online</div>
                        <div>Version: ${data.version}</div>
                    `;
                })
                .catch(() => {
                    document.getElementById('api-status').innerHTML = `
                        <div style="color: #e74c3c;">❌ API Offline</div>
                    `;
                });
        });
    </script>
</body>
</html>
